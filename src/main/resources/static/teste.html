<html>

<head>

<!-- <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

 <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
 
<!-- JavaScript -->
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>



<script type="text/javascript">
var reader  = new FileReader();


function readFileSemBootstrap() {
	var preview =  document.querySelector('#img');
	const fileInput = document.getElementById("inpfile");
	//alert(fileInput)
	console.log(fileInput)
	
	const file = fileInput.files[0];
	console.log("f: "+file);
	
	//const fileInput = document.getElementById('inpfile');
	/*fileInput.onchange = () => {
	  const selectedFile = fileInput.files[0];
	  console.log(selectedFile);
	}*/
	
	//alert(document.querySelector('input[type=file]').files.length)
	//var file    = $('#inpfile').files[0]; //document.querySelector('input[type=file]').files[0];
	//alert(file+" "+$('#inpfile'))
	
	reader.onloadend = function (event) {
		const contents = event.target.result;
		console.log("contents: "+contents);
		
		preview.src = contents;
	}
	//alert(file)
	if (file) {
	  reader.readAsDataURL(file);
	  //preview.src = reader;
	} else {
	  preview.src = "";
	}
}

function readFileWithBootstrap() {
	var preview =  document.querySelector('#img');
	
	
	  const fileInput = document.getElementById('fileInput');
	  
	  // Check if a file is selected
	  if (fileInput.files.length === 0) {
	    console.log('No file selected.');
	    return;
	  }
	  
	  const file = fileInput.files[0];
	  const reader = new FileReader();
	  
	  reader.onload = function(event) {
	    const contents = event.target.result;
	    console.log('File contents:', contents);
	    preview.src = contents;
	    // Do something with the file contents
	  }
	  
	  
	  
	  //reader.readAsText(file);
	  reader.readAsDataURL(file);
	  
	  console.log("reader result: "+reader.result)
	  //preview.src = reader.result;
	}
	
</script>

</head>

<body>


<div class="container" style="text-align: center;margin: auto;">

	<div class="row">
				<div class="col-sm">
					Sem Bootstrap
					<a href="#" onclick="carregaFoto()">
 
						<img id="img" src="/img/clothes.jpg" width="150">
					
					</a>
					<input id="inpfile" class="form-control" type="file" onchange="readFileSemBootstrap()">
				</div>
			</div>
<br><br>
			<div class="row">
				<div class="col-sm">		
					Com bootStrap:
					<div class="custom-file">
					  <input type="file" class="custom-file-input" id="fileInput" onchange="readFileWithBootstrap()">
					  <label class="custom-file-label" for="fileInput">Choose file</label>
					</div>
					<button onclick="readFileWithBootstrap()">Read File</button>
					aaaaaaa
					
				</div>
			</div>

</div>



  <div class="container">
    <button class="btn btn-primary" type="button" id="submitButton" onclick="submitForm()">
      <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
      Submit
    </button>
  </div>


    <button class="btn btn-primary" type="button" disabled="">
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      <span class="visually-hidden">Loading...</span>
    </button>
    <button class="btn btn-primary" type="button" disabled="">
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Loading...
    </button>


  <!-- Add the Bootstrap JS file (optional, for additional functionality) -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  <script>
    function submitForm() {
      var submitButton = document.getElementById("submitButton");
alert(submitButton)
      // Show the spinner
      submitButton.querySelector(".spinner-border").classList.remove("d-none");

      // Disable the button to prevent further clicks
      submitButton.disabled = true;

      // Simulate an asynchronous action (e.g., form submission)
      setTimeout(function() {
        // Hide the spinner
        submitButton.querySelector(".spinner-border").classList.add("d-none");

        // Enable the button after the action is completed
        submitButton.disabled = false;
      }, 2000); // Simulating a 2-second delay, replace with your actual action
    }
  </script>



</body>

</html>